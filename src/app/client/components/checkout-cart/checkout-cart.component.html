<div class="home">
    <div class="parallax-window">
        <img width="100%" height="400px" src="assets/images/blog.jpg" alt="Background Image">
        <div class="parallax_background"></div>
    </div>
    <div class="home_container">
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="home_content text-center">
                        <div class="home_subtitle page_subtitle">Alyssa</div>
                        <div class="home_title"><h1>Shopping Cart</h1></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="card">
    <div class="row">
        <div class="col-md-8 cart">
            <div class="title">
                <div class="row">
                     <div class="col align-self-center text-right text-muted">{{cart.count}} items</div>
                </div>
            </div>    
            <div *ngFor="let item of cart" class="row border-top border-bottom" >
                <div class="row main align-items-center">
                    <div class="col-2"><img class="img-fluid" src="{{item.product.images[0].url}}"></div>
                    <div class="col">
                        <div class="row text-muted">{{item.product.title}}</div>
                        <!-- <div class="row">Cotton T-shirt</div> -->
                    </div>
                    <div class="col">
                        <a >-</a><a  class="border">{{item.count}}</a><a >+</a>
                    </div>
                    <div class="col">&euro; {{item.price}} <span (click)="removeProduct(item.product)" class="close">&#10005;</span></div>
                </div>
            </div>
            
            <div class="back-to-shop"><a >&leftarrow;</a><span class="text-muted">Back to Home</span></div>
        </div>
        <div class="col-md-4 summary">
            <div><h5><b>Summary</b></h5></div>
            <hr>
            <div class="row">
                <div class="col" style="padding-left:0;">ITEMS {{cart.count}}</div>
                <div class="col text-right">&euro; {{totalPrice}}</div>
            </div>
            <form [formGroup]="couponForm">
                <p>SHIPPING</p>
                <select><option class="text-muted">Standard-Delivery- &euro;5.00</option></select>
                <p>GIVE CODE</p>
                <input id="code" formControlName="couponCode"      (input)="onInput($event)" placeholder="Enter your code">
               <div *ngIf="loader">
                <mat-progress-spinner   color="warn" mode="indeterminate" diameter="32"></mat-progress-spinner>
            </div>
            <div *ngIf="valid">
               Valid Coupon Thank you ,  Enjoy your new Prices 
            </div>
                <div *ngIf="couponForm.get('couponCode')?.hasError('couponNotFound')">
                    Coupon not found.
                  </div>
                  <div *ngIf="couponForm.get('couponCode')?.hasError('couponCheckError')">
                    Error checking the coupon.
                  </div>
       
          
            </form>
            <div class="row" style="border-top: 1px solid rgba(0,0,0,.1); padding: 2vh 0;">
                <div class="col">TOTAL PRICE</div>
                <div class="col text-right">&euro;  {{totalPrice}}</div>
            </div>
            <button class="btn">CHECKOUT</button>
        </div>
    </div>
    
</div>
